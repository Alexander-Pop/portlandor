# Import park ameninities from a CSV file.
# drush migrate:import park_amenities
id: neighborhoods
label: 'Neighborhoods Import from PortlandMaps'
migration_group: parks
source:
  plugin: url
  data_fetcher_plugin: http
  data_parser_plugin: json
  urls: https://www.portlandmaps.com/arcgis/rest/services/Public/BDS_Boundary/MapServer/6/query?returnGeometry=false&where=&outSr=4326&outFields=OBJECTID,MAPLABEL,COALIT&inSr=4326&geometry=%7B%22xmin%22%3A-120.71728515625%2C%22ymin%22%3A44.506346901083425%2C%22xmax%22%3A-123.6953125%2C%22ymax%22%3A46.521743896993634%2C%22spatialReference%22%3A%7B%22wkid%22%3A4326%7D%7D&geometryType=esriGeometryEnvelope&spatialRel=esriSpatialRelIntersects&geometryPrecision=6&f=json
  ids:
    tid:
      type: integer
  item_selector: features/
  fields:
    -
      name: tid
      label: 'Tid'
      selector: /attributes/OBJECTID
    -
      name: name
      label: 'Name'
      selector: /attributes/MAPLABEL
process:
  tid: term_id
  name: name
destination:
  plugin: entity:taxonomy_term
  default_bundle: neighborhood
